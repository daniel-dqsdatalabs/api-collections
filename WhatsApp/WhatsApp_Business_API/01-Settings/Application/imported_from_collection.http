#!/usr/bin/env dothttp

# imported from https://raw.githubusercontent.com/fbsamples/WhatsApp-Business-API-Postman-Collection/master/collection.json

@name("Get-Settings")
GET "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49cfbb0>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"


@name("Get-Shards")
GET "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49cfd00>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"


@name("Set-Shards")
POST "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49cfe80>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"
data('{
	"cc": "<Country Code>",
	"phone_number": "<Phone Number>",
	"shards": "1 | 2 | 4 | 8 | 16 | 32",
	"pin": "<Two-Step PIN>"
}')


@name("Update-Webhooks")
PATCH "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d1040>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"
data('{
	"webhooks": {
       "url": "<Webhook URL, https>"
    }
}')


@name("Delete-Webhooks")
PATCH "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d11c0>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"
data('{
	"webhooks": {
       "url": ""
    }
}')


@name("Update-Settings")
PATCH "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d1340>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"
data('{
	"callback_backoff_delay_ms": 3000,
  	"max_callback_backoff_delay_ms": 900000,
  	"callback_persist": true,
  	"media": {
  		"auto_download": ["image", "document", "audio"]
  	},
  	"webhooks": {
  		"url": "<Webhook URL, https>",
  		"max_concurrent_requests": 12
  	},
  	"sent_status": false,
	"db_garbagecollector_enable": true
}')


@name("Delete-App-Settings")
DELETE "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d14c0>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"



@name("Get-Media-Providers")
GET "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d1640>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"



@name("Delete-Media-Providers")
DELETE "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d17c0>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"



@name("Update-Media-Providers")
POST "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d1970>"
"Content-Type": "application/json"
"Authorization": "Bearer {{AdminAuthToken}}"
data('[
	{
		"name": "<Provider Name>",
		"type": "www",
		"config": {
			"bearer": "<Bearer Auth Token>"
		}
	}
]')


@name("Get-Shards")
GET "<dotextensions.server.postman2_1.URLClass object at 0x7f44a49d1ac0>"
"Authorization": "Bearer {{AdminAuthToken}}"



