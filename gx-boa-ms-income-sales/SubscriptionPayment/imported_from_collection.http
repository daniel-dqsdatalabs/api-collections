#!/usr/bin/env dothttp

@name("Upload subscription payment ")
POST "https://{{base_url}}/sales/subscription_payment/upload"
json({
    "salesEmailTypeEnum": 12,
    "company": {
        "legalName": "JUFA7608212V6",
        "fiscalAddress": {
            "street": "Benjamin Hill",
            "outsideNumber": "12",
            "insideNumber": null,
            "neighborhood": "Colonia Roma",
            "municipality": "Venistiano Carranza",
            "city": "CDMX",
            "state": "CDMX",
            "country": "México",
            "countryCode": "MEX",
            "postalCode": "52928"
        },
        "dataLocalized": {
            "regimenFiscalNombre": "Personas Físicas con Actividades Empresariales y Profesionales",
            "regimenFiscalCodigo": "612"
        },
        "timezone": "America/Mexico_City",
        "logoUrl": null
    },
    "client": {
        "commercialName": "Gestionix AC339",
        "address": {
            "countryCode": "MEX",
            "postalCode": "06700"
        },
        "email": "gr.yocelin@gmail.com",
        "countryCallingCode": "+52",
        "mobilePhone": "5527258173"
    },
    "subscriptionPayment": {
        "subscriptionPaymentId": "022",
        "amount": "3588.00",
        "companyNumber": 208497,
        "formaDePagoId": 1,
        "fechaDeEmision": "2020-04-15T14:07:51.805Z",
        "fechaDeTimbrado": "2020-04-15T14:07:51.805Z",
        "invoiceDatetime": "2020-04-15T14:07:51.805Z",
        "invoiceFolio": "d558c781-90f1-4fe6-96c9-851ccb8f8222",
        "metodoDePagoId": 1,
        "subscriptionPaymentStatusId": 2,
        "paymentDatetime": "2020-04-15T14:07:51.805Z",
        "serie": null,
        "usoDeCfdiId": 1,
        "planName": "Plan Anual Chain",
        "startPeriodDate": "2020-01-01T14:07:51.805Z",
        "endPeriodDate": "2021-01-01T14:07:51.805Z"
    },
    "invoice": {
        "serie": "B",
        "folio": "35",
        "usoCfdi": "P01",
        "fechaDeEnvioAFacturacion": "2020-04-15T14:07:51.805Z",
        "formaDePago": "03",
        "metodoDePago": "PUE",
        "certificado": {
            "certificateToken": "863f4b2b6024f7b59ee4c63ebd4d0c3795a74d88dfe5fe4fb6376b2cee50e1ac",
            "certificateNumber": "30001000000400002331"
        },
        "id": "D558C781-90F1-4FE6-96C9-851CCB8F8222",
        "cliente": {
            "rfc": "GARY9506303N8",
            "nombreORazonSocial": "GesStionix AC33"
        },
        "conceptos": [
            {
                "unidadDeMedida": "Unidad de servicio",
                "precioUnitarioConDescuentos": "3093.103448",
                "precioBaseUnitario": "3093.103448",
                "posicion": 1,
                "notasAdicionales": "",
                "informacionAduanal": null,
                "impuestosTransferidos": [
                    {
                        "tasa": 16.0,
                        "nombreDelImpuesto": "IVA",
                        "importe": "494.896552",
                        "idDependencia": null,
                        "id": null,
                        "exento": false
                    }
                ],
                "impuestosRetenidos": [],
                "importeTotal": "3588.000000",
                "importeSubtotal": "3093.100000",
                "importeDeDescuento": 0.0,
                "descripcion": "Gestionix
Plan: gServices PRO Mensual
Pago: Mensual",
                "claveUnidadMedidaSAT": "E48",
                "claveProductoServicioSATDescripcion": "",
                "claveProductoServicioSAT": "43232804",
                "clave": "GX-SER-PRO-GX-1708-M",
                "cantidad": 1.0
            }
        ],
        "impuestosTransferidos": [
            {
                "tasa": 16.0,
                "nombreDelImpuesto": "IVA",
                "importe": "494.900000",
                "exento": false
            }
        ],
        "impuestosRetenidos": [],
        "emisor": {
            "rfc": "JUFA7608212V6",
            "regimenFiscalCodigo": "612",
            "nombreORazonSocial": "JUFA7608212V6"
        },
        "codigoMoneda": "MXN",
        "total": 3588.0,
        "subtotal": 3093.1,
        "fechaDeFacturacion": "2020-04-15T14:07:56Z",
        "folioFiscal": "d558c781-90f1-4fe6-96c9-851ccb8f8333",
        "sello": "fgnbvSsDUxe6pTZaVnTPgUemIx1BECNT1E4M2oVnATGk7s9wgkW3pQpIyuk+IV+KplNM639sii4KMAbbldgYolWeNNMTqhGbJ91XB6g+ksYVPZVzcPiJs/ACiGsfjyHLCfYKUQtXGEb+tdsdRZQChkIqyCThCTkhxCnGlcmAwXSuzY47he9OVlIxkX52GHBM0cdf/lfzaMw/MDcBr//6kxnUfRTXXc4O62zFzXNjKSqrC+APwQRlK/gTjFNlQRcfLyG0GX88QB2jwJ4Ecob/sWXJhxsfIGNvh0Y9AJ+iRepYv++PAABLVyk+TFit8TGyGzCnqKBp5+dOBoTcr8dwoA==",
        "selloSat": "qqzseYzuorZa2bVPHhCocL/8hyj5ALQWm8BL0PVs6O4LpjzEh6tkWYGuOIPOiom06iXKoy1YPww558T2+wO1o/3sq+bbljc+d6D6dajeQ774SoAWKA/RXr7WbpMOz4ndmBUXLVEVhTYu40XOd9gnOLPkUWsaEyEbKHwnIMcvGorXFVaZ3yonCu7tLHgCK5tPLCEi8Ph5Gyo4kIij8XFVEEhmsUSYzMIDf0Bk/cvPy2vV2nZfywFMjKJPBJegaGuB2h+VY1NAROgwYNcIAZryjZmOq5Dj+CcoviaIt1u0sjRjcQ791nPfU/j7RNoLE7OHa9m5CZ2a/a6qT8Z3qlm5oQ==",
        "cadenaOriginalDelComplemento": "||1.1|1C010986-B443-4250-9AD6-DFE1AF82CB1B|2020-11-18T13:22:04|ASE0201179X0|GInXPRbXJ/Lfy6lqw5rF/l1KSWNPPg+v9PTboDhxdDTJGwjgfr9Mv/DHjGcbnwkqUVHK3WPiZ+u4WyZfMqz6jvkbt2xc/Yay/H9kx3L/er8HgCp1ZjoUfyCLp2Q0vDBgXYUSTICbzG+y8ypsp1Sph8vahitXzV8nExU5AybS0Whqw7OyoJ5xzN81RIT9iZ9l6jYWO4Us2ZJANAZa4sLAICp1E6hS4ja7zF+wWZgUYHRxcukh9IAeYpNiHuSMOMVS+ZlYmpl05Di3C4jlW66vyXfLXBnCEK8+C8aK2gLkFOxHcdt/Z95115JwQqhNgPNNE2bcctcZ7QontJzjXXLLPg::|30001000000300036825||",
        "noCertificadoSAT": "20001000000300022323"
    }
})



