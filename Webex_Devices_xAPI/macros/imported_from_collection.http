#!/usr/bin/env dothttp

@name("List Macros")
POST "https://{{WEBEXAPI}}/xapi/command/Macros.Macro.Get"
"Authorization": "Bearer {{access_token}}"
"Content-Type": "application/json"
"": ""
data('{
    "deviceId": "{{_deviceId}}"
}

')


@name("Push a Macro")
POST "https://{{WEBEXAPI}}/xapi/command/Macros.Macro.Save"
"Authorization": "Bearer {{access_token}}"
"Content-Type": "application/json"
"": ""
data('{
	"deviceId": "{{_deviceId}}",
	"arguments": {
		"Name": "postman",
		"OverWrite": "False"
	},
	"body": "// This macro was pushed from Postman via Webex Cloud /xapi\nconsole.log(\'Hello world\');\n"
}
')


@name("Get Macro Details")
POST "https://{{WEBEXAPI}}/xapi/command/Macros.Macro.Get"
"Authorization": "Bearer {{access_token}}"
"Content-Type": "application/json"
"": ""
data('{
	"deviceId": "{{_deviceId}}",
	"arguments": {
		"Name": "postman",
		"Content": "True"
	}
}

 ')



